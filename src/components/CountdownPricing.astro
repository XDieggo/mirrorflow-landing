---
/**
 * Pricing Section - Lifetime license pricing
 * Regular price: $49 USD
 * Full light/dark theme support
 */
interface Props {
  lang?: 'es' | 'en';
}

const { lang = 'es' } = Astro.props;

const translations = {
  es: {
    title: 'Licencia Vitalicia',
    subtitle: 'Pago Ãšnico â€¢ Sin Suscripciones',
    currentPrice: '$49',
    currency: 'USD',
    securePayment: 'Pago seguro con PayPal',
    savings: 'Ahorras $539+ vs suscripciones anuales',
    comparison: 'LocalTradeCopier cobra $49/mes = $588/aÃ±o',
    features: [
      'ReplicaciÃ³n ilimitada de cuentas en NinjaTrader',
      'ReplicaciÃ³n ilimitada de cuentas hacia Metatrader',
      'ReplicaciÃ³n ilimitada de cuentas hacia cTrader',
      'Pago Ãºnico - Licencia Vitalicia',
      'Actualizaciones de por vida',
      'Soporte premium por WhatsApp',
      'InstalaciÃ³n en 5 minutos',
      'Sin suscripciones mensuales'
    ]
  },
  en: {
    title: 'Lifetime License',
    subtitle: 'One-Time Payment â€¢ No Subscriptions',
    currentPrice: '$49',
    currency: 'USD',
    securePayment: 'Secure payment with PayPal',
    savings: 'Save $539+ vs annual subscriptions',
    comparison: 'LocalTradeCopier charges $49/month = $588/year',
    features: [
      'Unlimited account replication in NinjaTrader',
      'Unlimited account replication to Metatrader',
      'Unlimited account replication to cTrader',
      'One-time payment - Lifetime License',
      'Lifetime updates',
      'Premium WhatsApp support',
      '5-minute installation',
      'No monthly subscriptions'
    ]
  }
};

const t = translations[lang];
const ctaText = lang === 'es' ? 'ðŸš€ Obtener MirrorFlow - $49 (Pago Ãšnico)' : 'ðŸš€ Get MirrorFlow - $49 (One-Time)';

<section id="pricing" class="pricing-section">
  <div class="pricing-container">
    <!-- Section Header -->
    <div class="section-header">
      <h2 class="section-title-pricing">{t.title}<span class="light-text">{t.subtitle}</span></h2>
    </div>
    
    <div class="pricing-card">
      <!-- Glow effects -->
      <div class="glow glow-1"></div>
      <div class="glow glow-2"></div>

      <div class="card-content">
        <!-- Price Display -->
        <div class="price-display">
          <span class="price-current">{t.currentPrice}</span>
          <div class="price-details">
            <span class="price-currency">{t.currency}</span>
          </div>
        </div>



        <!-- Features List -->
        <ul class="features-list">
          {t.features.map((feature) => (
            <li>
              <svg class="check-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span>{feature}</span>
            </li>
          ))}
        </ul>

        <!-- Savings Badge -->
        <div class="savings-badge">
          <span>ðŸ’° {t.savings}</span>
        </div>
        
        <!-- Competitor Comparison -->
        <div class="comparison-note">
          <span>ðŸ“Š {t.comparison}</span>
        </div>

        <!-- CTA Button -->
        <a href="https://www.paypal.com/ncp/payment/FY69UCSPBXDJE" class="cta-button">
          {ctaText}
        </a>

        <p class="secure-payment">
          <svg class="lock-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
          </svg>
          {t.securePayment}
        </p>
      </div>
    </div>
  </div>
</section>

<style>
  .pricing-section {
    padding: 5rem 1rem;
  }
  
  .pricing-container {
    max-width: 56rem;
    margin: 0 auto;
    text-align: center;
  }
  
  .section-header {
    margin-bottom: 3rem;
  }
  
  .section-title-pricing {
    font-size: 4.8rem;
    line-height: 4.7rem;
    letter-spacing: -3px;
    font-weight: 700;
    color: var(--sl-color-white);
    margin: 0;
  }
  
  :root[data-theme="light"] .section-title-pricing {
    color: var(--sl-color-gray-1);
  }
  
  .section-title-pricing .light-text {
    display: block;
    color: var(--sl-color-gray-3);
  }
  
  @media (max-width: 1040px) {
    .section-title-pricing {
      font-size: 3.8rem;
      line-height: 3.7rem;
      letter-spacing: -2px;
    }
  }
  
  @media (max-width: 548px) {
    .section-title-pricing {
      font-size: 2.8rem;
      line-height: 2.7rem;
      letter-spacing: -1px;
    }
  }
  
  .pricing-card {
    position: relative;
    background: linear-gradient(to bottom, rgba(30, 41, 59, 0.8), rgba(15, 23, 42, 0.8));
    backdrop-filter: blur(8px);
    border: 1px solid rgba(148, 163, 184, 0.2);
    border-radius: 1.5rem;
    padding: 2.5rem 2rem;
    max-width: 36rem;
    margin: 0 auto;
    overflow: hidden;
  }
  
  :root[data-theme="light"] .pricing-card {
    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.95));
    border-color: rgba(0, 0, 0, 0.1);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
  }
  
  @media (min-width: 768px) {
    .pricing-card {
      padding: 3rem;
    }
  }
  
  .glow {
    position: absolute;
    width: 15rem;
    height: 15rem;
    border-radius: 50%;
    filter: blur(60px);
  }
  
  .glow-1 {
    top: -5rem;
    right: -5rem;
    background: rgba(56, 189, 248, 0.2);
  }
  
  .glow-2 {
    bottom: -5rem;
    left: -5rem;
    background: rgba(129, 140, 248, 0.2);
  }
  
  :root[data-theme="light"] .glow-1 {
    background: rgba(56, 189, 248, 0.1);
  }
  
  :root[data-theme="light"] .glow-2 {
    background: rgba(129, 140, 248, 0.1);
  }
  
  .card-content {
    position: relative;
    z-index: 10;
  }
  
  .price-display {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 1rem;
  }
  
  .price-current {
    font-size: 4rem;
    font-weight: 800;
    color: var(--sl-color-white);
  }
  
  :root[data-theme="light"] .price-current {
    color: var(--sl-color-gray-1);
  }
  
  @media (min-width: 768px) {
    .price-current {
      font-size: 4.5rem;
    }
  }
  
  .price-details {
    text-align: left;
  }
  
  .price-old {
    font-size: 1.5rem;
    color: var(--sl-color-gray-4);
    text-decoration: line-through;
  }
  
  .price-currency {
    display: block;
    font-size: 0.875rem;
    font-weight: 700;
    color: #38bdf8;
  }
  
  .price-info {
    font-size: 1.125rem;
    color: var(--sl-color-gray-2);
    margin-bottom: 0.5rem;
  }
  
  .urgency-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: rgba(239, 68, 68, 0.1);
    color: #ef4444;
    font-weight: 600;
    padding: 0.5rem 1rem;
    border-radius: 9999px;
    font-size: 0.875rem;
    margin-bottom: 1.5rem;
    border: 1px solid rgba(239, 68, 68, 0.2);
  }
  
  :root[data-theme="light"] .urgency-badge {
    background: rgba(239, 68, 68, 0.08);
    color: #dc2626;
  }
  
  .pulse-dot {
    position: relative;
    display: inline-flex;
    width: 0.5rem;
    height: 0.5rem;
  }
  
  .pulse-ring {
    position: absolute;
    display: inline-flex;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: #ef4444;
    opacity: 0.75;
    animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
  }
  
  .pulse-core {
    position: relative;
    display: inline-flex;
    border-radius: 50%;
    width: 0.5rem;
    height: 0.5rem;
    background: #ef4444;
  }
  
  @keyframes ping {
    75%, 100% {
      transform: scale(2);
      opacity: 0;
    }
  }
  
  .countdown-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 0.75rem;
    margin-bottom: 1.5rem;
    max-width: 22rem;
    margin-left: auto;
    margin-right: auto;
  }
  
  .countdown-item {
    background: rgba(15, 23, 42, 0.8);
    border-radius: 0.75rem;
    padding: 0.75rem 0.5rem;
    min-width: 0;
  }
  
  :root[data-theme="light"] .countdown-item {
    background: rgba(241, 245, 249, 0.8);
    border: 1px solid rgba(0, 0, 0, 0.05);
  }
  
  .countdown-value {
    display: block;
    font-size: 1.5rem;
    font-weight: 700;
    font-family: ui-monospace, monospace;
    color: var(--sl-color-white);
  }
  
  :root[data-theme="light"] .countdown-value {
    color: var(--sl-color-gray-1);
  }
  
  @media (min-width: 768px) {
    .countdown-value {
      font-size: 1.75rem;
    }
  }
  
  .countdown-label {
    font-size: 0.65rem;
    color: var(--sl-color-gray-4);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
  
  /* Enhanced urgency warning */
  .after-date-warning {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(249, 115, 22, 0.15));
    border: 1px solid rgba(239, 68, 68, 0.3);
    border-radius: 0.75rem;
    padding: 0.875rem 1rem;
    margin-bottom: 1.5rem;
    animation: urgency-pulse 2s ease-in-out infinite;
  }
  
  @keyframes urgency-pulse {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.3);
    }
    50% {
      box-shadow: 0 0 15px 2px rgba(239, 68, 68, 0.2);
    }
  }
  
  :root[data-theme="light"] .after-date-warning {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(249, 115, 22, 0.1));
  }
  
  .after-date {
    font-size: 0.95rem;
    color: #ef4444;
    font-weight: 600;
    margin: 0;
  }
  
  :root[data-theme="light"] .after-date {
    color: #dc2626;
  }
  
  .future-price {
    font-size: 1.1rem;
    font-weight: 800;
    color: #ef4444;
    background: rgba(239, 68, 68, 0.15);
    padding: 0.125rem 0.5rem;
    border-radius: 0.25rem;
  }
  
  :root[data-theme="light"] .future-price {
    color: #dc2626;
  }
  
  .features-list {
    list-style: none;
    padding: 0;
    margin: 0 0 2rem 0;
    text-align: left;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }
  
  .features-list li {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    color: var(--sl-color-gray-2);
  }
  
  .check-icon {
    width: 1.25rem;
    height: 1.25rem;
    color: #22c55e;
    flex-shrink: 0;
  }
  
  /* Savings Badge */
  .savings-badge {
    text-align: center;
    padding: 0.625rem 1rem;
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(16, 185, 129, 0.15));
    border: 1px solid rgba(34, 197, 94, 0.3);
    border-radius: 9999px;
    font-size: 0.95rem;
    font-weight: 700;
    color: #22c55e;
    margin-bottom: 0.5rem;
  }
  
  :root[data-theme="light"] .savings-badge {
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(16, 185, 129, 0.1));
    color: #16a34a;
  }
  
  /* Comparison Note */
  .comparison-note {
    text-align: center;
    padding: 0.5rem 0.75rem;
    font-size: 0.8rem;
    color: var(--sl-color-gray-4);
    margin-bottom: 1.5rem;
  }
  

  .cta-button {
    display: block;
    width: 100%;
    background: linear-gradient(135deg, #38bdf8, #818cf8);
    color: white;
    font-weight: 700;
    padding: 1rem 2rem;
    border-radius: 0.75rem;
    font-size: 1.125rem;
    text-decoration: none;
    text-align: center;
    transition: all 0.3s ease;
    box-shadow: 0 4px 20px rgba(129, 140, 248, 0.4);
    animation: cta-pulse 2s ease-in-out infinite;
  }
  
  @keyframes cta-pulse {
    0%, 100% {
      box-shadow: 0 4px 20px rgba(129, 140, 248, 0.4);
    }
    50% {
      box-shadow: 0 4px 30px rgba(129, 140, 248, 0.6), 0 0 0 8px rgba(129, 140, 248, 0.1);
    }
  }
  
  .cta-button:hover {
    transform: scale(1.02);
    box-shadow: 0 10px 30px rgba(129, 140, 248, 0.5);
    animation: none;
  }
  
  .secure-payment {
    margin-top: 1.5rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(30, 41, 59, 0.5);
    border: 1px solid rgba(148, 163, 184, 0.2);
    border-radius: 9999px;
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--sl-color-gray-2);
    transition: all 0.3s ease;
  }

  :root[data-theme="light"] .secure-payment {
    background: rgba(255, 255, 255, 0.8);
    border-color: rgba(0, 0, 0, 0.08);
  }

  .secure-payment:hover {
    border-color: #22c55e;
    color: var(--sl-color-white);
  }

  :root[data-theme="light"] .secure-payment:hover {
    color: var(--sl-color-gray-1);
  }

  .lock-icon {
    width: 1rem;
    height: 1rem;
    color: #22c55e;
  }

  /* Social Proof Badge */
  .social-proof-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: rgba(34, 197, 94, 0.1);
    color: #22c55e;
    font-weight: 600;
    padding: 0.5rem 1rem;
    border-radius: 9999px;
    font-size: 0.875rem;
    margin-bottom: 1.5rem;
    border: 1px solid rgba(34, 197, 94, 0.2);
    animation: social-pulse 2s ease-in-out infinite;
  }
  
  @keyframes social-pulse {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.2);
    }
    50% {
      box-shadow: 0 0 20px 4px rgba(34, 197, 94, 0.3), 0 0 0 8px rgba(34, 197, 94, 0.1);
    }
  }
  
  :root[data-theme="light"] .social-proof-badge {
    background: rgba(34, 197, 94, 0.08);
    color: #16a34a;
  }
  
  .pulse-dot {
    position: relative;
    display: inline-flex;
    width: 0.5rem;
    height: 0.5rem;
  }
  
  .pulse-ring {
    position: absolute;
    display: inline-flex;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: #22c55e;
    opacity: 0.75;
    animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
  }
  
  .pulse-core {
    position: relative;
    display: inline-flex;
    border-radius: 50%;
    width: 0.5rem;
    height: 0.5rem;
    background: #22c55e;
  }
  
  @keyframes ping {
    75%, 100% {
      transform: scale(2);
      opacity: 0;
    }
  }
</style>

<script is:inline>
  // Generate random trader count between 10 and 20
  (function() {
    const traderCount = Math.floor(Math.random() * 11) + 10; // 10-20
    const countElement = document.getElementById('trader-count');
    if (countElement) {
      countElement.textContent = traderCount.toString();
    }
  })();
</script>
